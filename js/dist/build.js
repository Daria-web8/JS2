(()=>{"use strict";Vue.component("goods-list",{name:"goods-list",props:["goods"],template:'\n          <main>\n              <div v-if="goods.length !== 0" class="goods-list">\n                  <div class="goods-item" v-for="good in goods">\n                      <goods-item :good=\'good\' />\n                  </div>\n              </div>\n              <h3 v-else>No data</h3>\n          </main>\n      '}),Vue.component("goods-item",{name:"goods-item",props:["good"],template:"\n          <div>\n              <h3>{{ good.product_name }}</h3>\n              <p>{{ good.price }}</p>\n          </div>\n      "}),Vue.component("goods-search",{template:'\n          <div>\n          <input \n              :value="value" \n              v-on:input="$emit(\'input\', $event.target.value)" \n              type="text" \n              class="goods-search" \n          />\n          <button class="search-button" type="button" @click=\'$emit("filter-goods")\'>Искать</button>\n          </div>\n      ',props:["value"]}),Vue.component("cart",{template:'\n        <div>\n            <button class="cart-button" type="button" @click="handleCart">Корзина</button>\n            <div v-show="isVisibleCart" class="cart">Корзина</div>\n        </div>\n    ',data:()=>({isVisibleCart:!0}),methods:{handleCart(){this.isVisibleCart=!this.isVisibleCart}}}),new Vue({el:"#app",data:()=>({goods:[],filteredGoods:[],searchLine:""}),mounted(){this.makeGETRequest("https://raw.githubusercontent.com/GeekBrainsTutorial/online-store-api/master/responses/catalogData.json",(e=>{this.goods=JSON.parse(e),this.filteredGoods=JSON.parse(e)}))},methods:{filterGoods(){console.log("this.searchLine :>> ",this.searchLine);const e=new RegExp(this.searchLine,"i");this.filteredGoods=this.goods.filter((t=>e.test(t.product_name)))},makeGETRequest(e,t){let o;window.XMLHttpRequest?o=new XMLHttpRequest:window.ActiveXObject&&(o=new ActiveXObject("Microsoft.XMLHTTP")),o.onreadystatechange=function(){4===o.readyState&&t(o.responseText)},o.open("GET",e,!0),o.send()}},watch:{filteredGoods(){console.log("this.filteredGoods :>> ",this.filteredGoods)}}})})();